{% extends 'base.html' %}

{% block content %}
  <section class="py-5">
    <div class="container">
      <div class="row justify-content-center mb-5">
        <div class="col-md-8 text-center">
          <hr>
          <h1 class="display-4 font-weight-bold text mb-4">{{ laboratoire.intitule }}</h1>
          <hr>
        </div>
      </div>
      
      <div class="row">
        <div class="col-md-4">
          <img src="{{ laboratoire.photo.url }}" alt="{{ laboratoire.alias }}" class="img-fluid rounded-circle">
        </div>
        <div class="col-md-8">
          <h4><i class="fas fa-user-circle"></i> Alias: {{ laboratoire.alias }}</h4>
          <p><strong><i class="far fa-calendar-alt"></i> Date de création:</strong> {{ laboratoire.date_creation }}</p>
          <p><strong><i class="fas fa-building"></i> Département:</strong> {{ laboratoire.departement }}</p>
          <p><strong><i class="fas fa-user-tie"></i> Directeur:</strong> {% if laboratoire.directeur %}<a href="{% url 'chercheur_detail' laboratoire.directeur.id %}">{{ laboratoire.directeur }}</a>{% else %}N/A{% endif %}</p>
          <p><strong><i class="fas fa-envelope"></i> Email:</strong> {{ laboratoire.email }}</p>
          <p><strong><i class="fas fa-info-circle"></i> Information:</strong> {{ laboratoire.information }}</p>
          {% if laboratoire.fichier %}
            <p><strong><i class="fas fa-file"></i> Fichier:</strong> <a href="{{ laboratoire.fichier.url }}" target="_blank">Télécharger le fichier</a></p>
          {% endif %}
        </div>
      </div>
      
      <hr>
      
      <div class="row">
        <div class="col-md-12">
          <h2 class="mb-4"><i class="fas fa-user"></i>  Chercheurs ({{ chercheurs|length }})</h2>
          <div class="row">
            <div class="col-md-6">
              <h5 class="mb-3"><i class="fas fa-user-tie"></i>Enseignants ({{ enseignants|length }})</h5>
              <ul class="list-unstyled">
                {% for enseignant in enseignants %}
                  <li><a href="{% url 'chercheur_detail' enseignant.id %}">{{ enseignant }}</a></li>
                {% empty %}
                  <li>Aucun enseignant trouvé.</li>
                {% endfor %}
              </ul>
            </div>
            <div class="col-md-6">
              <h5 class="mb-3"><i class="fas fa-user-graduate"></i>Doctorants ({{ doctorants|length }}) </h5>
              <ul class="list-unstyled">
                {% for doctorant in doctorants %}
                  <li><a href="{% url 'chercheur_detail' doctorant.id %}">{{ doctorant }}</a> -- {{ doctorant.these }}</li>
                {% empty %}
                  <li>Aucun doctorant trouvé.</li>
                {% endfor %}
              </ul>
            </div>
          </div>
          
        </div>
      </div>
      
      <hr>
      
      <div class="row">
        <div class="col-md-12">
          <h2 class="mb-4"><i class="fas fa-users"></i> Equipes ({{ equipes|length }})</h2>
          <ul class="list-unstyled">
            {% for equipe in equipes %}
              <li><a href="{% url 'equipe_detail' equipe.id %}">{{ equipe }}</a></li>
            {% empty %}
              <li>Aucune équipe trouvée.</li>
            {% endfor %}
          </ul>
        </div>
      </div>
      
      <hr>
      
      <div class="row">
        <div class="col-md-12">
          <h2 class="mb-4"><i class="fa fa-file-alt"></i> Productions ({{ productions|length }})</h2>
          <ul class="list-unstyled">
            {% for production in productions %}
              <li>
                <a href="{% url 'production_detail' production.id %}">{{ production }}</a>
              </li>
            {% empty %}
              <li>Aucune production trouvée.</li>
            {% endfor %}
          </ul>
        </div>
      </div>
      
      <hr>
      
      <div class="row">
        <div class="col-md-12">
          <h2 class="mb-4"><i class="fas fa-chart-bar"></i> Activités ({{ activites|length }}) </h2>
          <ul class="list-unstyled">
            {% for activite in activites %}
              <li>
                <a href="{% url 'activite_detail' activite.id %}">{{ activite }}</a>
              </li>
            {% empty %}
              <li>Aucune activité trouvée.</li>
            {% endfor %}
          </ul>
        </div>
      </div>
      
    </div>
  </section>
{% endblock %}
